(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const S=document.querySelector("#add-contact"),g=document.querySelector("#modal"),q=document.querySelector("#modal-close-btn"),c=document.forms.inputForm,h=document.querySelector("#contact-list");let l;function y(){localStorage.getItem("contactList")==null?l=[]:(l=JSON.parse(localStorage.getItem("contactList")),l.forEach(e=>$(e)))}document.addEventListener("DOMContentLoaded",y);const x=e=>{e.preventDefault(),new FormData(c)},O=e=>{const r=e.formData;if(N(r)){r.append("id",l.length+1);const o=Object.fromEntries(r);A(o),h.innerHTML="",y(),c.reset(),L()}};c.addEventListener("submit",x);c.addEventListener("formdata",O);function A(e){l.push(e),localStorage.setItem("contactList",JSON.stringify(l))}function $(e){const r=document.createElement("tr");r.classList.add("hover:bg-orange-400","cursor-pointer"),r.setAttribute("data-id",e.id),r.innerHTML=`
    
    <td class="py-4">${e.id}</td>
    <td class="font-semibold text-gray-700">${e.firstname}</td>
    <td class="text-center">${e.streetAdr}</td>
    <td>
      <span class="bg-slate-200 px-2 py-1 rounded text-gray-700"
        >${e.label}</span
      >
    </td>
    <td>${e.email}
    </td>
    <td>${e.phone}</td>
  `,h.appendChild(r)}function M(){g.classList.remove("hidden")}function L(){g.classList.add("hidden")}S.addEventListener("click",M);q.addEventListener("click",L);function N(e){let r=e.get("firstname"),o=e.get("lastname"),a=e.get("email"),t=e.get("phone"),n=e.get("streetAdr"),i=e.get("city");function s(u,v){const f=c.elements[u],m=document.createElement("small");m.classList.add("errormsg"),m.innerText=v;const p=f.nextElementSibling;p&&p.className==="errormsg"?p.replaceWith(f):f.after(m)}if(document.querySelectorAll(".errormsg").forEach(u=>u.remove()),!r)return s("firstname","required"),!1;if(!o)return s("lastname","required"),!1;if(!a)return s("email","required"),!1;if(!t)return s("phone","required"),!1;if(!n)return s("streetAdr","required"),!1;if(!i)return s("city","required"),!1;const d=/^[a-zA-Z\s]*$/;let b=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,E=/^\d{10}$/;return d.test(r)?d.test(o)?b.test(a)?E.test(t)?d.test(i)?n.length<5?(s("streetAdr","street address should have 5 characters"),!1):!0:(s("city","contains only alphabets"),!1):(s("phone","phone number shoud have 10 digits"),!1):(s("email","check the email format"),!1):(s("lastname","contains only alphabets"),!1):(s("firstname","contains only alphabets"),!1)}
